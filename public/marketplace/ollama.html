<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />

		<title>Ollama - Marketplace - InferencePortAI</title>
		<link rel="stylesheet" href="../styles/styles.css" />
		<link rel="stylesheet" href="../styles/loading.css" />
		<link rel="stylesheet" href="../styles/highlight.css">

		<script type="module" src="../scripts/staticload/theme.js"></script>
		<style>
			summary {
				font-size: 1.5em;
				font-weight: bold;
				margin: 0.83em 0;
				line-height: 1.2;
				display: inline-block;
				cursor: pointer;
			}
			.arrow {
				display: inline-block;
				transition: transform 0.3s ease;
				width: 1em;
				height: 1em;
				transform: rotate(0deg);
			}

			details[open] .arrow {
				transform: rotate(90deg);
			}

			.arrow::before {
				content: "▸";
				display: inline-block;
			}

			#ollama-missing {
				padding: 12px;
				border-radius: 15px;
				background: var(--input-bg);
				color: #f34f4f;
				display: none;
				max-width: 320px;
				max-height: 250px;
				position: fixed;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				z-index: 1000;
				box-shadow: 0 4px 12px rgba(0,0,0,0.1);
			}
		</style>
	</head>
	<body>
		<nav>
			<div class="logo">⚡InferencePort AI</div>
			<ul class="nav-links">
				<li><a href="../index.html">Dashboard</a></li>
				<li><a href="../marketplace.html">Marketplace</a></li>
				<li><a href="../installed.html">Installed</a></li>
				<li><a href="../settings.html">Settings</a></li>
			</ul>
		</nav>

		<div id="ollama-missing" class="modal hidden">
			<h3>Ollama not found</h3>
			<p>Local model execution requires Ollama. <a id="install-link" href="https://ollama.com/download" target="_blank" rel="noopener">Install Ollama</a> and restart the app.</p>
			<p> </p>
			<button id="ollama-retry">Retry</button>
			<p> </p>
			<button onclick="window.location.href='.././index.html'">Return Home</button>
		</div>

		<div id="overlay-blocker" style="
			position: fixed;
			top: 0;
			left: 0;
			width: 100vw;
			height: 100vh;
			background: rgba(0, 0, 0, 0.4);
			z-index: 999;
			display: none;
			pointer-events: all;
		"></div>


		<div id="pull-modal" class="modal hidden">
			<div class="modal-content">
				<span class="close-btn" id="pull-modal-close">×</span>
				<h2 id="modal-model-name"></h2>
				<label for="modal-revision-select">Select revision:</label>
				<select id="modal-revision-select"></select>
				<p id="modal-performance-warning" class="modal-warning"></p>
				<button id="modal-pull-btn">Download</button>
			</div>
		</div>

		<main style="padding: 40px">
			<details open>
				<summary>
					<span class="arrow"></span> <span class="h2">Installed Models</span>
				</summary>

				<div style="margin-bottom: 20px">
					<input
						type="text"
						id="search-installed"
						placeholder="Search installed LLMs"
						style="padding: 8px; width: 300px; font-size: 16px"
					/>
				</div>
				<div class="spinner" id="installed-spinner"></div>
				<div class="card-grid" id="installed-models"></div>
			</details>

			<details open>
				<summary>
					<span class="arrow"></span>
					<span class="h2">Available LLMs (Provider: Ollama)</span>
				</summary>

				<div style="margin-bottom: 20px">
					<input
						type="text"
						id="search-available"
						placeholder="Search available LLMs"
						style="padding: 8px; width: 300px; font-size: 16px"
					/>
				</div>
				<div class="spinner" id="spinner-av"></div>
				<div class="card-grid" id="available-models"></div>
			</details>

			<div id="notification-container"></div>
			<footer>Copyright (c) 2025 Rihaan Meher. Licensed under the Apache License 2.0</footer>
		</main>

		<script>

		</script>

		<script type="module" src="../scripts/marketplace/ollama.mjs"></script>
	</body>
</html>

<!--
Copyright 2025 Rihaan Meher

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
