<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Settings - InferencePortAI</title>
		<link rel="stylesheet" href="styles/styles.css" />
		<script type="module" src="Components.js"></script>
		<style>
			button:disabled {
			    pointer-events: none;
				opacity: 0.5;
				cursor: not-allowed;
			}
			.email-input-wrapper textarea {
				width: 100%;
				box-sizing: border-box;
				font-family: inherit;
				font-size: 14px;
				padding: 8px;
				border: 1px solid #7abff8;
				border-radius: 14px;
				resize: vertical;
			}
		</style>
		<script type="module" src="scripts/staticload/index.js"></script>
	</head>
	<body>
		<root-navbar></root-navbar>
		<main style="padding: 40px">
			<div class="settings-container">
				<h1>Settings</h1>
				<div id="rename-dialog" class="modal hidden">
					<div class="modal-content">
						<h2>Change Username</h2>
						<p>Pick your new username:</p>
						<input type="text" id="username" placeholder="Enter username" style="max-width: 200px;">
						<br />
						<div class="modal-actions">
							<button id="rename-cancel">Cancel</button>
							<button id="save" style="max-width: 200px;">Save</button>
						</div>
						<p id="status"></p>
					</div>
				</div>
				<div id="delete-dialog" class="modal hidden">
					<div class="modal-content">
						<h2>Delete Account</h2>
						<p>Are you SURE you want to delete your account? This action is irreversible!</p>
						<div class="modal-actions">
							<button onclick="document.getElementById('delete-dialog').style.display = 'none'">Cancel</button>
							<button onclick="document.getElementById('delete-dialog').style.display = 'none'; document.getElementById('delete-password-dialog').style.display = 'flex'" style="max-width: 200px; color: red !important">Continue</button>
						</div>
					</div>
				</div>
				<div id="delete-password-dialog" class="modal hidden">
					<div class="modal-content">
						<h2>Delete Account</h2>
						<p>Please enter your password to permanently delete your account.</p>
						<input type="password" id="password" placeholder="Enter password" style="max-width: 275x;">
						<div class="modal-actions">
							<button onclick="document.getElementById('delete-password-dialog').style.display = 'none'">Cancel</button>
							<button style="max-width: 200px; color: red !important" id="deleteforreal">Delete</button>
						</div>
						<p id="delete-password-status"></p>
					</div>
				</div>
				<details open><summary>General</summary>
					<p> </p>
					<div>
						<button id="theme-toggle" class="theme-toggle">ðŸŒ™ Dark Mode</button>
					</div>
				</details>
				<p> </p>
				<details open id="account-settings"><Summary>Account</Summary>
					<p> </p>
					<div>
						<button onclick="document.getElementById('rename-dialog').style.display = 'flex'" class="theme-toggle">Change Username</button>
					</div>
					<p> </p>
					<div>
						<button onclick="document.getElementById('delete-dialog').style.display = 'flex'" class="theme-toggle red" style="color: red !important">Delete Account</button>
					</div>
				</details>
				<!--
		<div class="setting-item">
			<label for="language-select">Language</label>
			<select id="language-select">
			<option value="en">English</option>
			<option value="es">Spanish</option>
			</select>
		</div>
		-->
					<p> </p>
					<details open><summary>Syncing</summary>
						<p> </p>
						<p>
							<label>
								<input type="checkbox" id="sync-chats"> Enable chat sync
							</label>
						</p>
						<p class="muted">Syncing is <strong>off by default</strong>. When enabled, your chat sessions will be synced to InferencePort AI. Only you and InferencePort AI can access your chats.</p>
						<p class="muted">Signing in is optional â€” you only need an account to enable sync.</p>
					</details>

					<details open><summary>Host (Proxy)</summary>
						<p class="muted">Run a small proxy server on your machine to allow hosted clients to connect. Enter a port and the comma-separated list of allowed emails, then click <strong>Start Hosting</strong>.</p>
						<div style="display:flex;flex-direction:column;gap:8px;max-width:520px;">
							<label>Port: 52458</label>
							<label for="host-emails" class="field-label">
								Allowed emails
								<span class="field-hint">(comma-separated)</span>
							</label>

							<div class="email-input-wrapper">
								<textarea
									id="host-emails"
									rows="3"
									placeholder="alice@example.com, bob@example.com"
								></textarea>
							</div>

							<div class="modal-actions" style="padding:0">
								<button id="host-start" style="max-width:200px">Start Hosting</button>
								<button id="host-stop" disabled style="max-width:200px">Stop Hosting</button>
							</div>
							<p id="host-status" class="muted"></p>
						</div>
					</details>
			</div>
			<footer>Copyright (c) 2025 Rihaan Meher. Licensed under the Apache License 2.0</footer>
			<footer><p>By using this app, you agree to the <a href="javascript:window.utils.web_open('https://inferenceportai.vercel.app/security.html')">Terms of Service</a> and <a href="javascript:window.utils.web_open('https://inferenceportai.vercel.app/security.html#privacy')">Privacy Policy</a>. We reserve the right to change these terms and policies at anytime without any further notice.</p></footer>

		</main>
		<script type="module" src="scripts/settings.js"></script>
	</body>
</html>

<!--
Copyright 2025 Rihaan Meher

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
